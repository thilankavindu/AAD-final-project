<!--<!DOCTYPE html>-->
<!--<html lang="en">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <meta name="viewport" content="width=device-width, initial-scale=1.0">-->
<!--    <title>User Management System</title>-->
<!--    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">-->
<!--    <style>-->
<!--        .card {-->
<!--            transition: transform 0.3s;-->
<!--        }-->
<!--        .card:hover {-->
<!--            transform: translateY(-5px);-->
<!--            box-shadow: 0 10px 20px rgba(0,0,0,0.1);-->
<!--        }-->
<!--        .user-avatar {-->
<!--            width: 100px;-->
<!--            height: 100px;-->
<!--            object-fit: cover;-->
<!--            border-radius: 50%;-->
<!--            margin: 0 auto;-->
<!--            display: block;-->
<!--        }-->
<!--    </style>-->
<!--</head>-->
<!--<body>-->
<!--<div class="container py-5">-->
<!--    <div class="row">-->
<!--        <div class="col-md-6 mx-auto text-center mb-5">-->
<!--            <h2 class="text-primary">User Management System</h2>-->
<!--            <p class="text-muted">Register and manage users</p>-->
<!--        </div>-->
<!--    </div>-->

<!--    <div class="row">-->
<!--        &lt;!&ndash; Registration Form &ndash;&gt;-->
<!--        <div class="col-lg-5 mb-4">-->
<!--            <div class="card shadow-sm">-->
<!--                <div class="card-header bg-primary text-white">-->
<!--                    <h4 class="mb-0">Register New User</h4>-->
<!--                </div>-->
<!--                <div class="card-body">-->
<!--                    <form id="userForm">-->
<!--                        <div class="mb-3">-->
<!--                            <label for="firstName" class="form-label">First Name</label>-->
<!--                            <input type="text" class="form-control" id="firstName" required>-->
<!--                        </div>-->
<!--                        <div class="mb-3">-->
<!--                            <label for="lastName" class="form-label">Last Name</label>-->
<!--                            <input type="text" class="form-control" id="lastName" required>-->
<!--                        </div>-->
<!--                        <div class="mb-3">-->
<!--                            <label for="email" class="form-label">Email</label>-->
<!--                            <input type="email" class="form-control" id="email" required>-->
<!--                        </div>-->
<!--                        <div class="mb-3">-->
<!--                            <label for="password" class="form-label">Password</label>-->
<!--                            <input type="password" class="form-control" id="password" required>-->
<!--                        </div>-->
<!--                        <div class="mb-3">-->
<!--                            <label for="phone" class="form-label">Phone Number</label>-->
<!--                            <input type="tel" class="form-control" id="phone">-->
<!--                        </div>-->
<!--                        <div class="mb-3">-->
<!--                            <label for="role" class="form-label">Role</label>-->
<!--                            <select class="form-select" id="role">-->
<!--                                <option value="USER">User</option>-->
<!--                                <option value="ADMIN">Admin</option>-->
<!--                                <option value="MANAGER">Manager</option>-->
<!--                            </select>-->
<!--                        </div>-->
<!--                        <div class="d-grid gap-2">-->
<!--                            <button type="submit" class="btn btn-primary">Register</button>-->
<!--                            <button type="button" class="btn btn-outline-secondary" onclick="resetUserForm()">Clear</button>-->
<!--                        </div>-->
<!--                    </form>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->

<!--        &lt;!&ndash; Users Display &ndash;&gt;-->
<!--        <div class="col-lg-7">-->
<!--            <div class="card shadow-sm">-->
<!--                <div class="card-header bg-success text-white">-->
<!--                    <div class="d-flex justify-content-between align-items-center">-->
<!--                        <h4 class="mb-0">Registered Users</h4>-->
<!--                        <div class="input-group" style="width: 200px;">-->
<!--                            <input type="text" class="form-control" placeholder="Search..." id="searchInput">-->
<!--                            <button class="btn btn-light" type="button" onclick="searchUsers()">-->
<!--                                <i class="bi bi-search"></i>-->
<!--                            </button>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                </div>-->
<!--                <div class="card-body">-->
<!--                    <div class="table-responsive">-->
<!--                        <table class="table table-hover">-->
<!--                            <thead>-->
<!--                            <tr>-->
<!--                                <th>#</th>-->
<!--                                <th>User</th>-->
<!--                                <th>Email</th>-->
<!--                                <th>Role</th>-->
<!--                                <th>Actions</th>-->
<!--                            </tr>-->
<!--                            </thead>-->
<!--                            <tbody id="usersTableBody">-->
<!--                            &lt;!&ndash; Users will be loaded here &ndash;&gt;-->
<!--                            </tbody>-->
<!--                        </table>-->
<!--                    </div>-->
<!--                    <nav aria-label="Page navigation">-->
<!--                        <ul class="pagination justify-content-center" id="pagination">-->
<!--                            &lt;!&ndash; Pagination will be added here &ndash;&gt;-->
<!--                        </ul>-->
<!--                    </nav>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->
<!--</div>-->

<!--&lt;!&ndash; User Details Modal &ndash;&gt;-->
<!--<div class="modal fade" id="userDetailsModal" tabindex="-1" aria-hidden="true">-->
<!--    <div class="modal-dialog modal-dialog-centered">-->
<!--        <div class="modal-content">-->
<!--            <div class="modal-header">-->
<!--                <h5 class="modal-title">User Details</h5>-->
<!--                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>-->
<!--            </div>-->
<!--            <div class="modal-body text-center">-->
<!--                <img src="https://via.placeholder.com/150" alt="User Avatar" class="user-avatar mb-3">-->
<!--                <h4 id="modalUserName"></h4>-->
<!--                <p class="text-muted" id="modalUserEmail"></p>-->

<!--                <div class="row mt-4">-->
<!--                    <div class="col-md-6">-->
<!--                        <p><strong>First Name:</strong> <span id="modalFirstName"></span></p>-->
<!--                        <p><strong>Last Name:</strong> <span id="modalLastName"></span></p>-->
<!--                    </div>-->
<!--                    <div class="col-md-6">-->
<!--                        <p><strong>Phone:</strong> <span id="modalPhone"></span></p>-->
<!--                        <p><strong>Role:</strong> <span id="modalRole" class="badge bg-primary"></span></p>-->
<!--                    </div>-->
<!--                </div>-->
<!--            </div>-->
<!--            <div class="modal-footer">-->
<!--                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->
<!--</div>-->

<!--<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>-->
<!--<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>-->
<!--<script>-->
<!--    // Sample data - Replace with actual API calls-->
<!--    let users = [];-->
<!--    let currentPage = 1;-->
<!--    const usersPerPage = 5;-->

<!--    $(document).ready(function() {-->
<!--        // Load initial users-->
<!--        fetchUsers();-->

<!--        // Handle form submission-->
<!--        $('#userForm').submit(function(e) {-->
<!--            e.preventDefault();-->
<!--            registerUser();-->
<!--        });-->
<!--    });-->

<!--    function fetchUsers() {-->
<!--        // In a real app, you would make an AJAX call to your backend-->
<!--        // $.ajax({-->
<!--        //     url: '/api/users',-->
<!--        //     method: 'GET',-->
<!--        //     success: function(response) {-->
<!--        //         users = response;-->
<!--        //         displayUsers();-->
<!--        //     }-->
<!--        // });-->

<!--        // For demo purposes, we'll use sample data-->
<!--        users = [-->
<!--            {-->
<!--                id: 1,-->
<!--                firstName: "John",-->
<!--                lastName: "Doe",-->
<!--                email: "john.doe@example.com",-->
<!--                phone: "0771234567",-->
<!--                role: "ADMIN",-->
<!--                registeredDate: "2023-05-15"-->
<!--            },-->
<!--            {-->
<!--                id: 2,-->
<!--                firstName: "Jane",-->
<!--                lastName: "Smith",-->
<!--                email: "jane.smith@example.com",-->
<!--                phone: "0769876543",-->
<!--                role: "USER",-->
<!--                registeredDate: "2023-06-20"-->
<!--            },-->
<!--            // Add more sample users as needed-->
<!--        ];-->
<!--        displayUsers();-->
<!--    }-->

<!--    function registerUser() {-->
<!--        const userData = {-->
<!--            firstName: $('#firstName').val(),-->
<!--            lastName: $('#lastName').val(),-->
<!--            email: $('#email').val(),-->
<!--            password: $('#password').val(),-->
<!--            phone: $('#phone').val(),-->
<!--            role: $('#role').val()-->
<!--        };-->

<!--        // In a real app, you would make an AJAX POST request-->
<!--        // $.ajax({-->
<!--        //     url: '/api/users/register',-->
<!--        //     method: 'POST',-->
<!--        //     data: JSON.stringify(userData),-->
<!--        //     contentType: 'application/json',-->
<!--        //     success: function(response) {-->
<!--        //         alert('User registered successfully!');-->
<!--        //         resetUserForm();-->
<!--        //         fetchUsers();-->
<!--        //     }-->
<!--        // });-->

<!--        // For demo purposes, we'll add to our sample data-->
<!--        const newId = users.length > 0 ? Math.max(...users.map(u => u.id)) + 1 : 1;-->
<!--        users.push({-->
<!--            id: newId,-->
<!--            ...userData,-->
<!--            registeredDate: new Date().toISOString().split('T')[0]-->
<!--        });-->

<!--        alert('User registered successfully! (Demo)');-->
<!--        resetUserForm();-->
<!--        displayUsers();-->
<!--    }-->

<!--    function displayUsers(page = 1) {-->
<!--        currentPage = page;-->
<!--        const startIndex = (page - 1) * usersPerPage;-->
<!--        const paginatedUsers = users.slice(startIndex, startIndex + usersPerPage);-->

<!--        let tableBody = '';-->
<!--        paginatedUsers.forEach(user => {-->
<!--            tableBody += `-->
<!--                <tr>-->
<!--                    <td>${user.id}</td>-->
<!--                    <td>${user.firstName} ${user.lastName}</td>-->
<!--                    <td>${user.email}</td>-->
<!--                    <td><span class="badge ${getRoleBadgeClass(user.role)}">${user.role}</span></td>-->
<!--                    <td>-->
<!--                        <button class="btn btn-sm btn-info" onclick="viewUserDetails(${user.id})">View</button>-->
<!--                        <button class="btn btn-sm btn-warning" onclick="editUser(${user.id})">Edit</button>-->
<!--                        <button class="btn btn-sm btn-danger" onclick="deleteUser(${user.id})">Delete</button>-->
<!--                    </td>-->
<!--                </tr>-->
<!--            `;-->
<!--        });-->

<!--        $('#usersTableBody').html(tableBody);-->
<!--        setupPagination();-->
<!--    }-->

<!--    function setupPagination() {-->
<!--        const pageCount = Math.ceil(users.length / usersPerPage);-->
<!--        let paginationHtml = '';-->

<!--        for (let i = 1; i <= pageCount; i++) {-->
<!--            paginationHtml += `-->
<!--                <li class="page-item ${i === currentPage ? 'active' : ''}">-->
<!--                    <a class="page-link" href="#" onclick="displayUsers(${i})">${i}</a>-->
<!--                </li>-->
<!--            `;-->
<!--        }-->

<!--        $('#pagination').html(paginationHtml);-->
<!--    }-->

<!--    function viewUserDetails(userId) {-->
<!--        const user = users.find(u => u.id === userId);-->
<!--        if (user) {-->
<!--            $('#modalUserName').text(`${user.firstName} ${user.lastName}`);-->
<!--            $('#modalUserEmail').text(user.email);-->
<!--            $('#modalFirstName').text(user.firstName);-->
<!--            $('#modalLastName').text(user.lastName);-->
<!--            $('#modalPhone').text(user.phone || 'N/A');-->
<!--            $('#modalRole').text(user.role).removeClass().addClass(`badge ${getRoleBadgeClass(user.role)}`);-->

<!--            const modal = new bootstrap.Modal(document.getElementById('userDetailsModal'));-->
<!--            modal.show();-->
<!--        }-->
<!--    }-->

<!--    function editUser(userId) {-->
<!--        const user = users.find(u => u.id === userId);-->
<!--        if (user) {-->
<!--            $('#firstName').val(user.firstName);-->
<!--            $('#lastName').val(user.lastName);-->
<!--            $('#email').val(user.email);-->
<!--            $('#phone').val(user.phone);-->
<!--            $('#role').val(user.role);-->

<!--            // In a real app, you would set a hidden field for user ID-->
<!--            // and change the form to update instead of create-->

<!--            alert('Edit mode activated. In a real app, this would populate the form for editing.');-->
<!--        }-->
<!--    }-->

<!--    function deleteUser(userId) {-->
<!--        if (confirm('Are you sure you want to delete this user?')) {-->
<!--            // In a real app, you would make an AJAX DELETE request-->
<!--            // $.ajax({-->
<!--            //     url: `/api/users/${userId}`,-->
<!--            //     method: 'DELETE',-->
<!--            //     success: function() {-->
<!--            //         fetchUsers();-->
<!--            //     }-->
<!--            // });-->

<!--            // For demo purposes, we'll remove from our sample data-->
<!--            users = users.filter(u => u.id !== userId);-->
<!--            displayUsers(currentPage);-->
<!--            alert('User deleted successfully! (Demo)');-->
<!--        }-->
<!--    }-->

<!--    function searchUsers() {-->
<!--        const searchTerm = $('#searchInput').val().toLowerCase();-->
<!--        if (searchTerm) {-->
<!--            const filteredUsers = users.filter(user =>-->
<!--                user.firstName.toLowerCase().includes(searchTerm) ||-->
<!--                user.lastName.toLowerCase().includes(searchTerm) ||-->
<!--                user.email.toLowerCase().includes(searchTerm)-->
<!--            );-->
<!--            users = filteredUsers;-->
<!--            displayUsers();-->
<!--        } else {-->
<!--            fetchUsers();-->
<!--        }-->
<!--    }-->

<!--    function resetUserForm() {-->
<!--        $('#userForm')[0].reset();-->
<!--    }-->

<!--    function getRoleBadgeClass(role) {-->
<!--        switch(role) {-->
<!--            case 'ADMIN': return 'bg-danger';-->
<!--            case 'MANAGER': return 'bg-warning text-dark';-->
<!--            default: return 'bg-primary';-->
<!--        }-->
<!--    }-->
<!--</script>-->
<!--</body>-->
<!--</html>-->


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Management Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #4e73df;
            --secondary-color: #f8f9fc;
            --success-color: #1cc88a;
            --info-color: #36b9cc;
            --warning-color: #f6c23e;
            --danger-color: #e74a3b;
        }

        body {
            background-color: #f8f9fc;
            font-family: 'Nunito', sans-serif;
        }

        .sidebar {
            background: linear-gradient(180deg, var(--primary-color) 10%, #224abe 100%);
            min-height: 100vh;
        }

        .sidebar-brand {
            height: 4.375rem;
            text-decoration: none;
            font-size: 1.2rem;
            font-weight: 800;
            padding: 1.5rem 1rem;
            text-align: center;
            letter-spacing: 0.05rem;
            z-index: 1;
            color: #fff;
        }

        .nav-item {
            position: relative;
        }

        .nav-link {
            color: rgba(255, 255, 255, 0.8);
            font-weight: 600;
        }

        .nav-link:hover {
            color: #fff;
        }

        .nav-link i {
            margin-right: 0.25rem;
        }

        .card {
            border: none;
            border-radius: 0.35rem;
            box-shadow: 0 0.15rem 1.75rem 0 rgba(58, 59, 69, 0.15);
        }

        .card-header {
            background-color: #f8f9fc;
            border-bottom: 1px solid #e3e6f0;
            padding: 1rem 1.35rem;
        }

        .bg-primary {
            background-color: var(--primary-color) !important;
        }

        .bg-success {
            background-color: var(--success-color) !important;
        }

        .bg-warning {
            background-color: var(--warning-color) !important;
        }

        .bg-danger {
            background-color: var(--danger-color) !important;
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            object-fit: cover;
        }

        .badge {
            font-weight: 600;
            padding: 0.35em 0.65em;
        }

        .table-responsive {
            overflow-x: auto;
        }

        .action-btn {
            padding: 0.25rem 0.5rem;
            font-size: 0.875rem;
        }
    </style>
</head>
<body>
<div class="container-fluid">
    <div class="row">
        <!-- Sidebar -->
        <nav class="col-md-2 d-none d-md-block sidebar">
            <div class="sidebar-brand">
                <i class="fas fa-users-cog"></i> User Admin
            </div>
            <div class="sidebar-sticky pt-3">
                <ul class="nav flex-column">
                    <li class="nav-item">
                        <a class="nav-link active" href="#">
                            <i class="fas fa-fw fa-tachometer-alt"></i>
                            Dashboard
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#users-section">
                            <i class="fas fa-fw fa-users"></i>
                            All Users
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#admins-section">
                            <i class="fas fa-fw fa-user-shield"></i>
                            Admins
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#register-section">
                            <i class="fas fa-fw fa-user-plus"></i>
                            Register New
                        </a>
                    </li>
                </ul>
            </div>
        </nav>

        <!-- Main Content -->
        <main role="main" class="col-md-9 ml-sm-auto col-lg-10 px-4 py-4">
            <!-- Dashboard Cards -->
            <div class="row mb-4">
                <div class="col-xl-3 col-md-6 mb-4">
                    <div class="card border-left-primary shadow h-100 py-2">
                        <div class="card-body">
                            <div class="row no-gutters align-items-center">
                                <div class="col mr-2">
                                    <div class="text-xs font-weight-bold text-primary text-uppercase mb-1">
                                        Total Users</div>
                                    <div class="h5 mb-0 font-weight-bold text-gray-800" id="total-users">0</div>
                                </div>
                                <div class="col-auto">
                                    <i class="fas fa-users fa-2x text-gray-300"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-xl-3 col-md-6 mb-4">
                    <div class="card border-left-success shadow h-100 py-2">
                        <div class="card-body">
                            <div class="row no-gutters align-items-center">
                                <div class="col mr-2">
                                    <div class="text-xs font-weight-bold text-success text-uppercase mb-1">
                                        Active Users</div>
                                    <div class="h5 mb-0 font-weight-bold text-gray-800" id="active-users">0</div>
                                </div>
                                <div class="col-auto">
                                    <i class="fas fa-user-check fa-2x text-gray-300"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-xl-3 col-md-6 mb-4">
                    <div class="card border-left-info shadow h-100 py-2">
                        <div class="card-body">
                            <div class="row no-gutters align-items-center">
                                <div class="col mr-2">
                                    <div class="text-xs font-weight-bold text-info text-uppercase mb-1">
                                        Admin Users</div>
                                    <div class="h5 mb-0 font-weight-bold text-gray-800" id="admin-users">0</div>
                                </div>
                                <div class="col-auto">
                                    <i class="fas fa-user-shield fa-2x text-gray-300"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-xl-3 col-md-6 mb-4">
                    <div class="card border-left-warning shadow h-100 py-2">
                        <div class="card-body">
                            <div class="row no-gutters align-items-center">
                                <div class="col mr-2">
                                    <div class="text-xs font-weight-bold text-warning text-uppercase mb-1">
                                        New Users (7 days)</div>
                                    <div class="h5 mb-0 font-weight-bold text-gray-800" id="new-users">0</div>
                                </div>
                                <div class="col-auto">
                                    <i class="fas fa-user-clock fa-2x text-gray-300"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Users Table -->
            <div class="card mb-4" id="users-section">
                <div class="card-header d-flex justify-content-between align-items-center">
                    <h6 class="m-0 font-weight-bold text-primary">All Registered Users</h6>
                    <div class="input-group" style="width: 300px;">
                        <input type="text" class="form-control" placeholder="Search users..." id="user-search">
                        <button class="btn btn-primary" type="button" id="search-btn">
                            <i class="fas fa-search"></i>
                        </button>
                    </div>
                </div>
                <div class="card-body">
                    <div class="table-responsive">
                        <table class="table table-bordered" id="users-table" width="100%" cellspacing="0">
                            <thead>
                            <tr>
                                <th>ID</th>
                                <th>User</th>
                                <th>Email</th>
                                <th>Role</th>
                                <th>Status</th>
                                <th>Registered</th>
                                <th>Actions</th>
                            </tr>
                            </thead>
                            <tbody id="users-table-body">
                            <!-- Users will be loaded here -->
                            </tbody>
                        </table>
                    </div>
                    <nav aria-label="Page navigation">
                        <ul class="pagination justify-content-center" id="users-pagination">
                            <!-- Pagination will be added here -->
                        </ul>
                    </nav>
                </div>
            </div>

            <!-- Admins Table -->
            <div class="card mb-4" id="admins-section">
                <div class="card-header d-flex justify-content-between align-items-center">
                    <h6 class="m-0 font-weight-bold text-primary">Administrators</h6>
                    <button class="btn btn-success btn-sm" id="add-admin-btn">
                        <i class="fas fa-plus"></i> Add Admin
                    </button>
                </div>
                <div class="card-body">
                    <div class="table-responsive">
                        <table class="table table-bordered" id="admins-table" width="100%" cellspacing="0">
                            <thead>
                            <tr>
                                <th>ID</th>
                                <th>Admin</th>
                                <th>Email</th>
                                <th>Last Login</th>
                                <th>Actions</th>
                            </tr>
                            </thead>
                            <tbody id="admins-table-body">
                            <!-- Admins will be loaded here -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Register New User Section -->
            <div class="card mb-4" id="register-section">
                <div class="card-header">
                    <h6 class="m-0 font-weight-bold text-primary">Register New User</h6>
                </div>
                <div class="card-body">
                    <form id="register-form">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="name">Full Name</label>
                                    <input type="text" class="form-control" id="name" required>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="email">Email Address</label>
                                    <input type="email" class="form-control" id="email" required>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="password">Password</label>
                                    <input type="password" class="form-control" id="password" required>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="confirm-password">Confirm Password</label>
                                    <input type="password" class="form-control" id="confirm-password" required>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="role">User Role</label>
                                    <select class="form-control" id="role">
                                        <option value="User">Regular User</option>
                                        <option value="Admin">Administrator</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="avatar">Profile Picture (URL)</label>
                                    <input type="text" class="form-control" id="avatar" placeholder="https://example.com/avatar.jpg">
                                </div>
                            </div>
                        </div>
                        <button type="submit" class="btn btn-primary">Register User</button>
                    </form>
                </div>
            </div>
        </main>
    </div>
</div>

<!-- User Details Modal -->
<div class="modal fade" id="userModal" tabindex="-1" role="dialog" aria-labelledby="userModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="userModalLabel">User Details</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-4 text-center">
                        <img id="modal-avatar" src="https://via.placeholder.com/150" class="img-fluid rounded-circle mb-3" alt="User Avatar">
                        <h4 id="modal-name"></h4>
                        <span class="badge" id="modal-role-badge"></span>
                    </div>
                    <div class="col-md-8">
                        <div class="row">
                            <div class="col-md-6">
                                <p><strong>Email:</strong> <span id="modal-email"></span></p>
                                <p><strong>Phone:</strong> <span id="modal-phone"></span></p>
                            </div>
                            <div class="col-md-6">
                                <p><strong>Registered:</strong> <span id="modal-registered"></span></p>
                                <p><strong>Last Login:</strong> <span id="modal-last-login"></span></p>
                            </div>
                        </div>
                        <hr>
                        <h5>User Information</h5>
                        <p id="modal-bio">No additional information provided.</p>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" id="edit-user-btn">Edit User</button>
            </div>
        </div>
    </div>
</div>

<!-- Edit User Modal -->
<div class="modal fade" id="editUserModal" tabindex="-1" role="dialog" aria-labelledby="editUserModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="editUserModalLabel">Edit User</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form id="edit-user-form">
                    <input type="hidden" id="edit-user-id">
                    <div class="form-group">
                        <label for="edit-name">Full Name</label>
                        <input type="text" class="form-control" id="edit-name" required>
                    </div>
                    <div class="form-group">
                        <label for="edit-email">Email Address</label>
                        <input type="email" class="form-control" id="edit-email" required>
                    </div>
                    <div class="form-group">
                        <label for="edit-role">User Role</label>
                        <select class="form-control" id="edit-role">
                            <option value="User">Regular User</option>
                            <option value="Admin">Administrator</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="edit-status">Account Status</label>
                        <select class="form-control" id="edit-status">
                            <option value="Active">Active</option>
                            <option value="Inactive">Inactive</option>
                            <option value="Suspended">Suspended</option>
                        </select>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-primary" id="save-user-btn">Save Changes</button>
            </div>
        </div>
    </div>
</div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script>
    // Sample data - Replace with actual API calls
    let users = [];
    let currentPage = 1;
    const usersPerPage = 10;

    $(document).ready(function() {
        // Load initial data
        fetchUsers();

        // Register form submission
        $('#register-form').submit(function(e) {
            e.preventDefault();
            registerUser();
        });

        // Search button click
        $('#search-btn').click(function() {
            searchUsers();
        });

        // User search input keyup
        $('#user-search').keyup(function(e) {
            if (e.key === 'Enter') {
                searchUsers();
            }
        });

        // Save user button click
        $('#save-user-btn').click(function() {
            saveUserChanges();
        });
    });

    function fetchUsers() {
        // In a real app, you would make an AJAX call to your backend
        // $.ajax({
        //     url: '/api/users',
        //     method: 'GET',
        //     headers: {
        //         'Authorization': 'Bearer ' + localStorage.getItem('authToken')
        //     },
        //     success: function(response) {
        //         users = response;
        //         updateDashboard();
        //         displayUsers();
        //     }
        // });

        // For demo purposes, we'll use sample data
        users = [
            {
                id: 1,
                name: "John Doe",
                email: "john.doe@example.com",
                role: "Admin",
                status: "Active",
                avatar: "https://randomuser.me/api/portraits/men/1.jpg",
                registered: "2023-05-15T10:30:00",
                lastLogin: "2023-06-20T14:45:00",
                phone: "0771234567"
            },
            {
                id: 2,
                name: "Jane Smith",
                email: "jane.smith@example.com",
                role: "User",
                status: "Active",
                avatar: "https://randomuser.me/api/portraits/women/1.jpg",
                registered: "2023-06-20T09:15:00",
                lastLogin: "2023-06-25T11:20:00",
                phone: "0769876543"
            },
            // Add more sample users as needed
        ];

        updateDashboard();
        displayUsers();
    }

    function updateDashboard() {
        const totalUsers = users.length;
        const activeUsers = users.filter(user => user.status === "Active").length;
        const adminUsers = users.filter(user => user.role === "Admin").length;
        const newUsers = users.filter(user => {
            const registeredDate = new Date(user.registered);
            const weekAgo = new Date();
            weekAgo.setDate(weekAgo.getDate() - 7);
            return registeredDate > weekAgo;
        }).length;

        $('#total-users').text(totalUsers);
        $('#active-users').text(activeUsers);
        $('#admin-users').text(adminUsers);
        $('#new-users').text(newUsers);
    }

    function displayUsers(page = 1) {
        currentPage = page;
        const startIndex = (page - 1) * usersPerPage;
        const paginatedUsers = users.slice(startIndex, startIndex + usersPerPage);

        let usersTableBody = '';
        let adminsTableBody = '';

        // Display all users
        paginatedUsers.forEach(user => {
            usersTableBody += `
                    <tr>
                        <td>${user.id}</td>
                        <td>
                            <img src="${user.avatar || 'https://via.placeholder.com/40'}" class="user-avatar mr-2">
                            ${user.name}
                        </td>
                        <td>${user.email}</td>
                        <td><span class="badge ${getRoleBadgeClass(user.role)}">${user.role}</span></td>
                        <td><span class="badge ${getStatusBadgeClass(user.status)}">${user.status}</span></td>
                        <td>${formatDate(user.registered)}</td>
                        <td>
                            <button class="btn btn-info btn-sm action-btn view-user" data-id="${user.id}">
                                <i class="fas fa-eye"></i>
                            </button>
                            <button class="btn btn-warning btn-sm action-btn edit-user" data-id="${user.id}">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="btn btn-danger btn-sm action-btn delete-user" data-id="${user.id}">
                                <i class="fas fa-trash"></i>
                            </button>
                        </td>
                    </tr>
                `;
        });

        // Display only admins
        const admins = users.filter(user => user.role === "Admin");
        admins.forEach(admin => {
            adminsTableBody += `
                    <tr>
                        <td>${admin.id}</td>
                        <td>
                            <img src="${admin.avatar || 'https://via.placeholder.com/40'}" class="user-avatar mr-2">
                            ${admin.name}
                        </td>
                        <td>${admin.email}</td>
                        <td>${formatDate(admin.lastLogin)}</td>
                        <td>
                            <button class="btn btn-info btn-sm action-btn view-user" data-id="${admin.id}">
                                <i class="fas fa-eye"></i>
                            </button>
                            <button class="btn btn-danger btn-sm action-btn revoke-admin" data-id="${admin.id}">
                                <i class="fas fa-user-minus"></i> Revoke
                            </button>
                        </td>
                    </tr>
                `;
        });

        $('#users-table-body').html(usersTableBody);
        $('#admins-table-body').html(adminsTableBody);
        setupPagination();
        setupEventHandlers();
    }

    function setupPagination() {
        const pageCount = Math.ceil(users.length / usersPerPage);
        let paginationHtml = '';

        for (let i = 1; i <= pageCount; i++) {
            paginationHtml += `
                    <li class="page-item ${i === currentPage ? 'active' : ''}">
                        <a class="page-link" href="#" onclick="displayUsers(${i})">${i}</a>
                    </li>
                `;
        }

        $('#users-pagination').html(paginationHtml);
    }

    function setupEventHandlers() {
        // View user details
        $('.view-user').click(function() {
            const userId = $(this).data('id');
            viewUserDetails(userId);
        });

        // Edit user
        $('.edit-user').click(function() {
            const userId = $(this).data('id');
            editUser(userId);
        });

        // Delete user
        $('.delete-user').click(function() {
            const userId = $(this).data('id');
            deleteUser(userId);
        });

        // Revoke admin
        $('.revoke-admin').click(function() {
            const userId = $(this).data('id');
            revokeAdmin(userId);
        });
    }

    function viewUserDetails(userId) {
        const user = users.find(u => u.id === userId);
        if (user) {
            $('#modal-name').text(user.name);
            $('#modal-email').text(user.email);
            $('#modal-phone').text(user.phone || 'Not provided');
            $('#modal-registered').text(formatDate(user.registered));
            $('#modal-last-login').text(formatDate(user.lastLogin));
            $('#modal-role-badge').text(user.role)
                .removeClass()
                .addClass('badge ' + getRoleBadgeClass(user.role));
            $('#modal-avatar').attr('src', user.avatar || 'https://via.placeholder.com/150');

            $('#userModal').modal('show');
        }
    }

    function editUser(userId) {
        const user = users.find(u => u.id === userId);
        if (user) {
            $('#edit-user-id').val(user.id);
            $('#edit-name').val(user.name);
            $('#edit-email').val(user.email);
            $('#edit-role').val(user.role);
            $('#edit-status').val(user.status);

            $('#editUserModal').modal('show');
        }
    }

    function saveUserChanges() {
        const userId = $('#edit-user-id').val();
        const user = users.find(u => u.id == userId);

        if (user) {
            // In a real app, you would make an AJAX PUT request
            // $.ajax({
            //     url: '/api/users/' + userId,
            //     method: 'PUT',
            //     headers: {
            //         'Authorization': 'Bearer ' + localStorage.getItem('authToken')
            //     },
            //     data: JSON.stringify({
            //         name: $('#edit-name').val(),
            //         email: $('#edit-email').val(),
            //         role: $('#edit-role').val(),
            //         status: $('#edit-status').val()
            //     }),
            //     contentType: 'application/json',
            //     success: function() {
            //         fetchUsers();
            //         $('#editUserModal').modal('hide');
            //     }
            // });

            // For demo purposes, we'll update our sample data
            user.name = $('#edit-name').val();
            user.email = $('#edit-email').val();
            user.role = $('#edit-role').val();
            user.status = $('#edit-status').val();

            displayUsers(currentPage);
            $('#editUserModal').modal('hide');
            alert('User updated successfully! (Demo)');
        }
    }

    function deleteUser(userId) {
        if (confirm('Are you sure you want to delete this user?')) {
            // In a real app, you would make an AJAX DELETE request
            // $.ajax({
            //     url: '/api/users/' + userId,
            //     method: 'DELETE',
            //     headers: {
            //         'Authorization': 'Bearer ' + localStorage.getItem('authToken')
            //     },
            //     success: function() {
            //         fetchUsers();
            //     }
            // });

            // For demo purposes, we'll remove from our sample data
            users = users.filter(u => u.id !== userId);
            displayUsers(currentPage);
            alert('User deleted successfully! (Demo)');
        }
    }

    function revokeAdmin(userId) {
        if (confirm('Are you sure you want to revoke admin privileges for this user?')) {
            // In a real app, you would make an AJAX PUT request
            // $.ajax({
            //     url: '/api/users/' + userId + '/revoke-admin',
            //     method: 'PUT',
            //     headers: {
            //         'Authorization': 'Bearer ' + localStorage.getItem('authToken')
            //     },
            //     success: function() {
            //         fetchUsers();
            //     }
            // });

            // For demo purposes, we'll update our sample data
            const user = users.find(u => u.id === userId);
            if (user) {
                user.role = 'User';
                displayUsers(currentPage);
                alert('Admin privileges revoked! (Demo)');
            }
        }
    }

    function registerUser() {
        const name = $('#name').val();
        const email = $('#email').val();
        const password = $('#password').val();
        const confirmPassword = $('#confirm-password').val();
        const role = $('#role').val();
        const avatar = $('#avatar').val();

        // Basic validation
        if (password !== confirmPassword) {
            alert('Passwords do not match!');
            return;
        }

        if (!name || !email || !password) {
            alert('Please fill in all required fields!');
            return;
        }

        // In a real app, you would make an AJAX POST request
        // $.ajax({
        //     url: '/api/users/register',
        //     method: 'POST',
        //     headers: {
        //         'Authorization': 'Bearer ' + localStorage.getItem('authToken')
        //     },
        //     data: JSON.stringify({
        //         name: name,
        //         email: email,
        //         password: password,
        //         role: role,
        //         avatar: avatar
        //     }),
        //     contentType: 'application/json',
        //     success: function() {
        //         $('#register-form')[0].reset();
        //         fetchUsers();
        //     }
        // });

        // For demo purposes, we'll add to our sample data
        const newId = users.length > 0 ? Math.max(...users.map(u => u.id)) + 1 : 1;
        users.push({
            id: newId,
            name: name,
            email: email,
            role: role,
            status: "Active",
            avatar: avatar || '',
            registered: new Date().toISOString(),
            lastLogin: null,
            phone: ''
        });

        $('#register-form')[0].reset();
        displayUsers();
        alert('User registered successfully! (Demo)');
    }

    function searchUsers() {
        const searchTerm = $('#user-search').val().toLowerCase();

        if (searchTerm) {
            // In a real app, you would make an AJAX request to your search endpoint
            // $.ajax({
            //     url: '/api/users/search?q=' + searchTerm,
            //     method: 'GET',
            //     headers: {
            //         'Authorization': 'Bearer ' + localStorage.getItem('authToken')
            //     },
            //     success: function(response) {
            //         users = response;
            //         displayUsers();
            //     }
            // });

            // For demo purposes, we'll filter our sample data
            const filteredUsers = users.filter(user =>
                user.name.toLowerCase().includes(searchTerm) ||
                user.email.toLowerCase().includes(searchTerm)
            );

            users = filteredUsers;
            displayUsers();
        } else {
            fetchUsers();
        }
    }

    function getRoleBadgeClass(role) {
        return role === 'Admin' ? 'bg-danger' : 'bg-primary';
    }

    function getStatusBadgeClass(status) {
        switch(status) {
            case 'Active': return 'bg-success';
            case 'Inactive': return 'bg-secondary';
            case 'Suspended': return 'bg-warning';
            default: return 'bg-light text-dark';
        }
    }

    function formatDate(dateString) {
        if (!dateString) return 'Never';
        const date = new Date(dateString);
        return date.toLocaleDateString() + ' ' + date.toLocaleTimeString();
    }
</script>
</body>
</html>